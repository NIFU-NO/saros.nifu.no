{
  "hash": "8109d1f10f5a04ca8d466dae02d6d4da",
  "result": {
    "engine": "knitr",
    "markdown": "---\nformat: html\ntitle: \"Tidsserie-grafer\"\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nsuppressPackageStartupMessages(library(dplyr))\nsuppressPackageStartupMessages(library(ggiraph))\ndat_figur_tidsserie <-\n  \"dat_tidsserie.rds\" %>%\n  readRDS() %>% \n  dplyr::filter(!is.na(kull)) %>%\n  dplyr::summarize(sysselsatt = sum(sysselsatt == \"Sysselsatt\", na.rm=TRUE)/n(), .by=kull) %>% \n  dplyr::mutate(label_over = paste0(round(sysselsatt*100, 0), \"*'%'\"),\n                label_under = paste0(kull),\n                label = paste0(label_over, \",\", label_under),\n                expression = paste0(\"atop(\", label, \")\"))\nfig_tidsserie <-\n  dat_figur_tidsserie %>%\n  ggplot2::ggplot(mapping = ggplot2::aes(x=kull, y=sysselsatt, \n                                         data_id = kull, tooltip = label)) +\n  ggplot2::geom_smooth(method = 'loess',\n                       formula = 'y ~ x', se = TRUE, level = .95,\n                       mapping = ggplot2::aes(data_id=\"smooth\",\n                                              tooltip = \"Konfidensintervall basert på glattingsfunksjon loess med lineære regresjoner mellom hver segment.\")) +\n  ggplot2::geom_line(mapping = ggplot2::aes(group = 1)) +\n  ggiraph::geom_point_interactive() +\n  ggiraph::geom_text_repel_interactive(mapping = ggplot2::aes(label=expression), \n                           parse = TRUE, nudge_y = .06, min.segment.length = 8) +\n  ggplot2::scale_y_continuous(limits = c(.7, 1),\n                              labels = scales::percent, \n                              n.breaks = 10) +\n  ggplot2::theme_classic() + \n  ggplot2::labs(y=\"Sysselsetting (%)\", x=NULL)\nggiraph::girafe(ggobj = fig_tidsserie)\n```\n:::",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}